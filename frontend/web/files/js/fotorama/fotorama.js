fotoramaVersion="4.6.4",function(t,e,n,o,i){"use strict";function r(){}function a(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function s(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function u(t){return je?+s(t.css("transform")):+t.css("left").replace("px","")}function l(t){var e={};return je?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function c(t){return{"transition-duration":t+"ms"}}function f(t,e){return isNaN(t)?e:t}function d(t,e){return f(+String(t).replace(e||"px",""))}function h(t){return/%$/.test(t)?d(t,"%"):i}function m(t,e){return f(h(t)/100*e,d(t))}function p(t){return(!isNaN(d(t))||!isNaN(d(t,"%")))&&t}function v(t,e,n,o){return(t-(o||0))*(e+(n||0))}function w(t,e,n,o){return-Math.round(t/(e+(n||0))-(o||0))}function g(t){var e=t.data();e.tEnd||(K(t[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[we.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0)}function y(t,e,n,o){var i,r=t.data();r&&(r.onEndFn=function(){i||(i=!0,clearTimeout(r.tT),n())},r.tProp=e,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*o),g(t))}function b(t,e){if(t.length){var n=t.data();je?(t.css(c(0)),n.onEndFn=r,clearTimeout(n.tT)):t.stop();var o=x(e,function(){return u(t)});return t.css(l(o)),o}}function x(){for(var t,e=0,n=arguments.length;n>e&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function _(t,e){return Math.round(t+(e-t)/1.5)}function C(){return C.p=C.p||("https:"===n.protocol?"https://":"http://"),C.p}function T(t){var n=e.createElement("a");return n.href=t,n}function k(t,e){if("string"!=typeof t)return t;var n,o;if((t=T(t)).host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!e||(n=t.href,o="custom"),!!n&&{id:n,type:o,s:t.search.replace(/^\?/,""),p:C()}}function M(t,e,n){var i,r,a=t.video;return"youtube"===a.type?(r=C()+"img.youtube.com/vi/"+a.id+"/default.jpg",i=r.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===a.type?o.ajax({url:C()+"vimeo.com/api/v2/video/"+a.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,S(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:i,thumb:r}}function S(t,e,n,i){for(var r=0,a=t.length;a>r;r++){var s=t[r];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[Ve]=u[Xe]=u[Be]=!1,i.splice(r,1,o.extend({},s,u,e));break}}}function F(t){function e(t,e,i){var r=t.children("img").eq(0),a=t.attr("href"),s=t.attr("src"),u=r.attr("src"),l=e.video,c=!!i&&k(a,!0===l);c?a=!1:c=l,n(t,r,o.extend(e,{video:c,img:e.img||a||s||u,thumb:e.thumb||u||s||a}))}function n(t,e,n){var i=n.thumb&&n.img!==n.thumb,r=d(n.width||t.attr("width")),a=d(n.height||t.attr("height"));o.extend(n,{width:r,height:a,thumbratio:H(n.thumbratio||d(n.thumbwidth||e&&e.attr("width")||i||r)/d(n.thumbheight||e&&e.attr("height")||i||a))})}var i=[];return t.children().each(function(){var t=o(this),r=W(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,r,!0);else{if(t.is(":empty"))return;n(t,null,o.extend(r,{html:this,_html:t.html()}))}i.push(r)}),i}function E(t){return 0===t.offsetWidth&&0===t.offsetHeight}function P(t){return!o.contains(e.documentElement,t)}function j(t,e,n,o){return j.i||(j.i=1,j.ii=[!0]),o=o||j.i,void 0===j.ii[o]&&(j.ii[o]=!0),t()?e():j.ii[o]&&setTimeout(function(){j.ii[o]&&j(t,e,n,o)},n||100),j.i++}function N(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function $(t,e,n,o){var i=t.data(),r=i.measures;if(r&&(!i.l||i.l.W!==r.width||i.l.H!==r.height||i.l.r!==r.ratio||i.l.w!==e.w||i.l.h!==e.h||i.l.m!==n||i.l.p!==o)){var s=r.width,u=r.height,l=e.w/e.h,c=r.ratio>=l,f="scaledown"===n,d="contain"===n,h="cover"===n,p=G(o);c&&(f||d)||!c&&h?(s=a(e.w,0,f?s:1/0),u=s/r.ratio):(c&&h||!c&&(f||d))&&(u=a(e.h,0,f?u:1/0),s=u*r.ratio),t.css({width:s,height:u,left:m(p.x,e.w-s)}),i.l={W:r.width,H:r.height,r:r.ratio,w:e.w,h:e.h,m:n,p:o}}return!0}function q(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function A(t,e,n){return e!==n&&(e>=t?"left":t>=n?"right":"left right")}function z(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var i,r=0,a=e.length;a>r;r++)if(e[r].id===t){i=r;break}return i}function L(t,e,n){n=n||{},t.each(function(){var t,i=o(this),a=i.data();a.clickOn||(a.clickOn=!0,o.extend(et(i,{onStart:function(e){t=e,(n.onStart||r).call(this,e)},onMove:n.onMove||r,onTouchEnd:n.onTouchEnd||r,onEnd:function(n){n.moved||e.call(this,t)}}),{noMove:!0}))})}function O(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function I(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function D(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function R(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function W(t){if(t){var e={};return o.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function H(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||i:e}}function K(t,e,n,o){e&&(t.addEventListener?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n))}function V(t){return!!t.getAttribute("disabled")}function B(t){return{tabindex:-1*t+"",disabled:t}}function X(t,e){K(t,"keyup",function(n){V(t)||13==n.keyCode&&e.call(t,n)})}function Q(t,e){K(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function U(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function Y(t){return t?">":"<"}function G(t){return t=(t+"").split(/\s+/),{x:p(t[0])||Ye,y:p(t[1])||Ye}}function J(t,e){var n=t.data(),i=Math.round(e.pos),a=function(){n.sliding=!1,(e.onEnd||r)()};void 0!==e.overPos&&e.overPos!==e.pos&&(i=e.overPos,a=function(){J(t,o.extend({},e,{overPos:e.pos,time:Math.max(Ie,e.time/2)}))});var s=o.extend(l(i),e.width&&{width:e.width});n.sliding=!0,je?(t.css(o.extend(c(e.time),s)),e.time>10?y(t,"transform",a,e.time):a()):t.stop().animate(s,e.time,Ue,a)}function Z(t,e,n,i,a,s){var u=void 0!==s;if(u||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||o(t),e=e||o(e);var l=t[0],c=e[0],f="crossfade"===i.method,d=function(){if(!d.done){d.done=!0;var t=(u||a.shift())&&a.shift();t&&Z.apply(this,t),(i.onEnd||r)(!!t)}},h=i.time/(s||1);n.removeClass(Wt+" "+Rt),t.stop().addClass(Wt),e.stop().addClass(Rt),f&&c&&t.fadeTo(0,0),t.fadeTo(f?h:0,1,f&&d),e.fadeTo(h,0,d),l&&f||c||d()}}function tt(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=o.now()}function et(t,n){function i(t){return f=o(t.target),y.checked=m=p=w=!1,l||y.flow||t.touches&&t.touches.length>1||t.which>1||Ze&&Ze.type!==t.type&&en||(m=n.select&&f.is(n.select,g))?m:(h="touchstart"===t.type,p=f.is("a, a *",g),d=y.control,v=y.noMove||y.noSwipe||d?16:y.snap?0:4,tt(t),c=Ze=t,tn=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||r).call(g,t,{control:d,$target:f}),l=y.flow=!0,void((!h||y.go)&&U(t)))}function a(t){if(t.touches&&t.touches.length>1||ze&&!t.isPrimary||tn!==t.type||!l)return l&&s(),void(n.onTouchEnd||r)();tt(t);var e=Math.abs(t._x-c._x),o=Math.abs(t._y-c._y),i=e-o,a=(y.go||y.x||i>=0)&&!y.noSwipe,u=0>i;h&&!y.checked?(l=a)&&U(t):(U(t),(n.onMove||r).call(g,t,{touch:h})),!w&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>v&&(w=!0),y.checked=y.checked||a||u}function s(t){(n.onTouchEnd||r)();var e=l;y.control=l=!1,e&&(y.flow=!1),!e||p&&!y.checked||(t&&U(t),en=!0,clearTimeout(nn),nn=setTimeout(function(){en=!1},1e3),(n.onEnd||r).call(g,{moved:w,$target:f,control:d,touch:h,startEvent:c,aborted:!t||"MSPointerCancel"===t.type}))}function u(){y.flow&&setTimeout(function(){y.flow=!1},Oe)}var l,c,f,d,h,m,p,v,w,g=t[0],y={};return ze?(K(g,"MSPointerDown",i),K(e,"MSPointerMove",a),K(e,"MSPointerCancel",s),K(e,"MSPointerUp",s)):(K(g,"touchstart",i),K(g,"touchmove",a),K(g,"touchend",s),K(e,"touchstart",function(){y.flow||setTimeout(function(){y.flow=!0},10)}),K(e,"touchend",u),K(e,"touchcancel",u),Se.on("scroll",u),t.on("mousedown",i),Fe.on("mousemove",a).on("mouseup",s)),t.on("click","a",function(t){y.checked&&U(t)}),y}function nt(t,e){function n(n,o){C=!0,i=s=n._x,h=n._now,d=[[h,i]],u=c=M.noMove||o?0:b(t,(e.getPos||r)()),(e.onStart||r).call(T,n)}var i,s,u,c,f,d,h,m,p,v,w,g,y,x,C,T=t[0],k=t.data(),M={};return M=o.extend(et(e.$wrap,o.extend({},e,{onStart:function(t,e){p=M.min,v=M.max,w=M.snap,g=t.altKey,C=x=!1,(y=e.control)||k.sliding||n(t)},onMove:function(o,a){M.noSwipe||(C||n(o),s=o._x,d.push([o._now,s]),c=u-(i-s),f=A(c,p,v),p>=c?c=_(c,p):c>=v&&(c=_(c,v)),M.noMove||(t.css(l(c)),x||(x=!0,a.touch||ze||t.addClass(ne)),(e.onMove||r).call(T,o,{pos:c,edge:f})))},onEnd:function(i){if(!M.noSwipe||!i.moved){C||n(i.startEvent,!0),i.touch||ze||t.removeClass(ne);for(var l,f,h,y,b,x,_,k,S,F=(m=o.now())-Oe,E=null,P=Ie,j=e.friction,N=d.length-1;N>=0;N--){if(l=d[N][0],f=Math.abs(l-F),null===E||h>f)E=l,y=d[N][1];else if(E===F||f>h)break;h=f}_=a(c,p,v);var $=y-s,q=$>=0,A=m-E,z=A>Oe,L=!z&&c!==u&&_===c;w&&(_=a(Math[L?q?"floor":"ceil":"round"](c/w)*w,p,v),p=v=_),L&&(w||_===c)&&(S=-$/A,P*=a(Math.abs(S),e.timeLow,e.timeHigh),b=Math.round(c+S*P/j),w||(_=b),(!q&&b>v||q&&p>b)&&(x=q?p:v,k=b-x,w||(_=x),k=a(_+.03*k,x-50,x+50),P=Math.abs((c-k)/(S/j)))),P*=g?10:1,(e.onEnd||r).call(T,o.extend(i,{moved:i.moved||z&&w,pos:c,newPos:_,overPos:k,time:P}))}}})),M)}function ot(t,e){var n,i,a,s={prevent:{}};return K(t[0],Le,function(t){var u=t.wheelDeltaY||-1*t.deltaY||0,l=t.wheelDeltaX||-1*t.deltaX||0,c=Math.abs(l)&&!Math.abs(u),f=Y(0>l),d=i===f,h=o.now(),m=Oe>h-a;i=f,a=h,c&&s.ok&&(!s.prevent[f]||n)&&(U(t,!0),n&&d&&m||(e.shift&&(n=!0,clearTimeout(s.t),s.t=setTimeout(function(){n=!1},De)),(e.onEnd||r)(t,e.shift?f:l)))}),s}function it(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}function rt(t){o.Fotorama.instances.push(t),it()}function at(t){o.Fotorama.instances.splice(t.index,1),it()}var st="fotorama",ut="fullscreen",lt=st+"__wrap",ct=lt+"--css2",ft=lt+"--css3",dt=lt+"--video",ht=lt+"--fade",mt=lt+"--slide",pt=lt+"--no-controls",vt=lt+"--no-shadows",wt=lt+"--pan-y",gt=lt+"--rtl",yt=lt+"--only-active",bt=lt+"--no-captions",xt=lt+"--toggle-arrows",_t=st+"__stage",Ct=_t+"__frame",Tt=Ct+"--video",kt=_t+"__shaft",Mt=st+"__grab",St=st+"__pointer",Ft=st+"__arr",Et=Ft+"--disabled",Pt=Ft+"--prev",jt=Ft+"--next",Nt=st+"__nav",$t=Nt+"-wrap",qt=Nt+"__shaft",At=Nt+"--dots",zt=Nt+"--thumbs",Lt=Nt+"__frame",Ot=Lt+"--dot",It=Lt+"--thumb",Dt=st+"__fade",Rt=Dt+"-front",Wt=Dt+"-rear",Ht=st+"__shadow"+"s",Kt=Ht+"--left",Vt=Ht+"--right",Bt=st+"__active",Xt=st+"__select",Qt=st+"--hidden",Ut=st+"--fullscreen",Yt=st+"__fullscreen-icon",Gt=st+"__error",Jt=st+"__loading",Zt=st+"__loaded",te=Zt+"--full",ee=Zt+"--img",ne=st+"__grabbing",oe=st+"__img",ie=oe+"--full",re=st+"__dot",ae=st+"__thumb",se=ae+"-border",ue=st+"__html",le=st+"__video",ce=le+"-play",fe=le+"-close",de=st+"__caption",he=st+"__caption__wrap",me=st+"__spinner",pe='" tabindex="0" role="button',ve=o&&o.fn.jquery.split(".");if(!ve||ve[0]<1||1==ve[0]&&ve[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var we=function(t,e,n){function o(t,e){return typeof t===e}function i(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var o in t){var r=t[o];if(!i(r,"-")&&m[r]!==n)return"pfx"!=e||r}return!1}function a(t,e,i){for(var r in t){var a=e[t[r]];if(a!==n)return!1===i?t[r]:o(a,"function")?a.bind(i||e):a}return!1}function s(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+w.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?r(s,e):(s=(t+" "+g.join(i+" ")+i).split(" "),a(s,e,n))}var u,l,c={},f=e.documentElement,d="modernizr",h=e.createElement(d),m=h.style,p=" -webkit- -moz- -o- -ms- ".split(" "),v="Webkit Moz O ms",w=v.split(" "),g=v.toLowerCase().split(" "),y={},b=[],x=b.slice,_={}.hasOwnProperty;l=o(_,"undefined")||o(_.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return _.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=x.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=e.prototype;var r=new i,a=e.apply(r,n.concat(x.call(arguments)));return Object(a)===a?a:r}return e.apply(t,n.concat(x.call(arguments)))};return o}),y.csstransforms3d=function(){return!!s("perspective")};for(var C in y)l(y,C)&&(u=C.toLowerCase(),c[u]=y[C](),b.push((c[u]?"":"no-")+u));return c.addTest=function(t,e){if("object"==typeof t)for(var o in t)l(t,o)&&c.addTest(o,t[o]);else{if(t=t.toLowerCase(),c[t]!==n)return c;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(e?"":"no-")+t),c[t]=e}return c},function(t){m.cssText=t}(""),h=null,c._version="2.6.2",c._prefixes=p,c._domPrefixes=g,c._cssomPrefixes=w,c.testProp=function(t){return r([t])},c.testAllProps=s,c.testStyles=function(t,n,o,i){var r,a,s,u,l=e.createElement("div"),c=e.body,h=c||e.createElement("body");if(parseInt(o,10))for(;o--;)s=e.createElement("div"),s.id=i?i[o]:d+(o+1),l.appendChild(s);return r=["&#173;",'<style id="s',d,'">',t,"</style>"].join(""),l.id=d,(c?l:h).innerHTML+=r,h.appendChild(l),c||(h.style.background="",h.style.overflow="hidden",u=f.style.overflow,f.style.overflow="hidden",f.appendChild(h)),a=n(l,t),c?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),f.style.overflow=u),!!a},c.prefixed=function(t,e,n){return e?s(t,e,n):s(t,"pfx")},c}(0,e),ge={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},ye="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)ge.ok=!0;else for(var be=0,xe=ye.length;xe>be;be++)if(ge.prefix=ye[be],void 0!==e[ge.prefix+"CancelFullScreen"]){ge.ok=!0;break}ge.ok&&(ge.event=ge.prefix+"fullscreenchange",ge.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},ge.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},ge.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var _e,Ce={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Te={top:"auto",left:"auto",className:""};!function(t,e){_e=e()}(0,function(){function t(t,n){var o,i=e.createElement(t||"div");for(o in n)i[o]=n[o];return i}function n(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function o(t,e,n,o){var i=["opacity",e,~~(100*t),n,o].join("-"),r=.01+n/o*100,a=Math.max(1-(1-t)/e*(100-r),t),s=f.substring(0,f.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return h[i]||(m.insertRule("@"+u+"keyframes "+i+"{0%{opacity:"+a+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",m.cssRules.length),h[i]=1),i}function r(t,e){var n,o,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<d.length;o++)if(n=d[o]+e,r[n]!==i)return n;return r[e]!==i?e:void 0}function a(t,e){for(var n in e)t.style[r(t,n)||n]=e[n];return t}function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function u(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function l(t,e){return"string"==typeof t?t:t[e%t.length]}function c(t){return void 0===this?new c(t):void(this.opts=s(t||{},c.defaults,p))}var f,d=["webkit","Moz","ms","O"],h={},m=function(){var o=t("style",{type:"text/css"});return n(e.getElementsByTagName("head")[0],o),o.sheet||o.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};c.defaults={},s(c.prototype,{spin:function(e){this.stop();var n,o,i=this,r=i.opts,s=i.el=a(t(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),l=r.radius+r.length+r.width;if(e&&(e.insertBefore(s,e.firstChild||null),o=u(e),n=u(s),a(s,{left:("auto"==r.left?o.x-n.x+(e.offsetWidth>>1):parseInt(r.left,10)+l)+"px",top:("auto"==r.top?o.y-n.y+(e.offsetHeight>>1):parseInt(r.top,10)+l)+"px"})),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!f){var c,d=0,h=(r.lines-1)*(1-r.direction)/2,m=r.fps,p=m/r.speed,v=(1-r.opacity)/(p*r.trail/100),w=p/r.lines;!function t(){d++;for(var e=0;e<r.lines;e++)c=Math.max(1-(d+(r.lines-e)*w)%p*v,r.opacity),i.opacity(s,e*r.direction+h,c,r);i.timeout=i.el&&setTimeout(t,~~(1e3/m))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(e,i){function r(e,n){return a(t(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*u+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(var s,u=0,c=(i.lines-1)*(1-i.direction)/2;u<i.lines;u++)s=a(t(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:f&&o(i.opacity,i.trail,c+u*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&n(s,a(r("#000","0 0 4px #000"),{top:"2px"})),n(e,n(s,r(l(i.color,u),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var v=a(t("group"),{behavior:"url(#default#VML)"});return!r(v,"transform")&&v.adj?function(){function e(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}m.addRule(".spin-vml","behavior:url(#default#VML)"),c.prototype.lines=function(t,o){function i(){return a(e("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function r(t,r,s){n(d,n(a(i(),{rotation:360/o.lines*t+"deg",left:~~r}),n(a(e("roundrect",{arcsize:o.corners}),{width:u,height:o.width,left:o.radius,top:-o.width>>1,filter:s}),e("fill",{color:l(o.color,t),opacity:o.opacity}),e("stroke",{opacity:0}))))}var s,u=o.length+o.width,c=2*u,f=2*-(o.width+o.length)+"px",d=a(i(),{position:"absolute",top:f,left:f});if(o.shadow)for(s=1;s<=o.lines;s++)r(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=o.lines;s++)r(s);return n(t,d)},c.prototype.opacity=function(t,e,n,o){var i=t.firstChild;o=o.shadow&&o.lines||0,i&&e+o<i.childNodes.length&&(i=i.childNodes[e+o],i=i&&i.firstChild,(i=i&&i.firstChild)&&(i.opacity=n))}}():f=r(v,"animation"),c});var ke,Me,Se=o(t),Fe=o(e),Ee="quirks"===n.hash.replace("#",""),Pe=we.csstransforms3d,je=Pe&&!Ee,Ne=Pe||"CSS1Compat"===e.compatMode,$e=ge.ok,qe=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Ae=!je||qe,ze=navigator.msPointerEnabled,Le="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Oe=250,Ie=300,De=1400,Re=5e3,We=64,He=500,Ke=333,Ve="$stageFrame",Be="$navDotFrame",Xe="$navThumbFrame",Qe="auto",Ue=function(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],i=[null,null],r=function(r,a){return i[a]=3*t[a],o[a]=3*(e[a]-t[a])-i[a],n[a]=1-i[a]-o[a],r*(i[a]+r*(o[a]+r*n[a]))},a=function(t){return i[0]+t*(2*o[0]+3*n[0]*t)},s=function(t){for(var e,n=t,o=0;++o<14&&(e=r(n,0)-t,!(Math.abs(e)<.001));)n-=e/a(n);return n};return function(t){return r(s(t),1)}};o.easing[e]=function(e,o,i,r,a){return r*n([t[0],t[1]],[t[2],t[3]])(o/a)+i}}return e}([.1,0,.25,1]),Ye="50%",Ge={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:Ye,thumbposition:Ye,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:We,thumbheight:We,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Ie,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},Je={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};j.stop=function(t){j.ii[t]=!1};var Ze,tn,en,nn;jQuery.Fotorama=function(t,i){function r(){o.each(Tn,function(t,e){if(!e.i){e.i=ho++;var n=k(e.video,!0);if(n){var o={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:o=M(e,Tn,uo),S(Tn,{img:o.img,thumb:o.thumb},e.i,uo)}}})}function s(t){return Gn[t]||uo.fullScreen}function u(t){var e="keydown."+st,n=st+lo,o="keydown."+n,r="resize."+n+" orientationchange."+n;t?(Fe.on(o,function(t){var e,n;Fn&&27===t.keyCode?(e=!0,dn(Fn,!0,!0)):(uo.fullScreen||i.keyboard&&!uo.index)&&(27===t.keyCode?(e=!0,uo.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&s("space")||37===t.keyCode&&s("left")||38===t.keyCode&&s("up")?n="<":32===t.keyCode&&s("space")||39===t.keyCode&&s("right")||40===t.keyCode&&s("down")?n=">":36===t.keyCode&&s("home")?n="<<":35===t.keyCode&&s("end")&&(n=">>")),(e||n)&&U(t),n&&uo.show({index:n,slow:t.altKey,user:!0})}),uo.index||Fe.off(e).on(e,"textarea, input, select",function(t){!Me.hasClass(ut)&&t.stopPropagation()}),Se.on(r,uo.resize)):(Fe.off(o),Se.off(r))}function f(e){e!==f.f&&(e?(t.html("").addClass(st+" "+co).append(wo).before(po).before(vo),rt(uo)):(wo.detach(),po.detach(),vo.detach(),t.html(mo.urtext).removeClass(co),at(uo)),u(e),f.f=e)}function h(){Tn=uo.data=Tn||D(i.data)||F(t),kn=uo.size=Tn.length,!Cn.ok&&i.shuffle&&I(Tn),r(),Ao=T(Ao),kn&&f(!0)}function g(){var t=2>kn&&!i.enableifsingleframe||Fn;Oo.noMove=t||Kn,Oo.noSwipe=t||!i.swipe,!Qn&&yo.toggleClass(Mt,!i.click&&!Oo.noMove&&!Oo.noSwipe),ze&&wo.toggleClass(wt,!Oo.noSwipe)}function y(t){!0===t&&(t=""),i.autoplay=Math.max(+t||Re,1.5*Xn)}function _(){function t(t,n){e[t?"add":"remove"].push(n)}uo.options=i=W(i),Kn="crossfade"===i.transition||"dissolve"===i.transition,On=i.loop&&(kn>2||Kn&&(!Qn||"slide"!==Qn)),Xn=+i.transitionduration||Ie,Yn="rtl"===i.direction,Gn=o.extend({},i.keyboard&&Je,i.keyboard);var e={add:[],remove:[]};kn>1||i.enableifsingleframe?(In=i.nav,Rn="top"===i.navposition,e.remove.push(Xt),Co.toggle(!!i.arrows)):(In=!1,Co.hide()),ne(),Sn=new _e(o.extend(Ce,i.spinner,Te,{direction:Yn?-1:1})),Le(),De(),i.autoplay&&y(i.autoplay),Vn=d(i.thumbwidth)||We,Bn=d(i.thumbheight)||We,Io.ok=Ro.ok=i.trackpad&&!Ae,g(),on(i,[Lo]),(Dn="thumbs"===In)?(we(kn,"navThumb"),Mn=Fo,so=Xe,q(po,o.Fotorama.jst.style({w:Vn,h:Bn,b:i.thumbborderwidth,m:i.thumbmargin,s:lo,q:!Ne})),ko.addClass(zt).removeClass(At)):"dots"===In?(we(kn,"navDot"),Mn=So,so=Be,ko.addClass(At).removeClass(zt)):(In=!1,ko.removeClass(zt+" "+At)),In&&(Rn?To.insertBefore(go):To.insertAfter(go),Ee.nav=!1,Ee(Mn,Mo,"nav")),(Wn=i.allowfullscreen)?(Po.prependTo(go),Hn=$e&&"native"===Wn):(Po.detach(),Hn=!1),t(Kn,ht),t(!Kn,mt),t(!i.captions,bt),t(Yn,gt),t("always"!==i.arrows,xt),t(!(Un=i.shadows&&!Ae),vt),wo.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),zo=o.extend({},i)}function C(t){return 0>t?(kn+t%kn)%kn:t>=kn?t%kn:t}function T(t){return a(t,0,kn-1)}function E(t){return On?C(t):T(t)}function V(t){return!!(t>0||On)&&t-1}function G(t){return!!(kn-1>t||On)&&t+1}function tt(){Oo.min=On?-1/0:-v(kn-1,Lo.w,i.margin,jn),Oo.max=On?1/0:-v(0,Lo.w,i.margin,jn),Oo.snap=Lo.w+i.margin}function et(){Do.min=Math.min(0,Lo.nw-Mo.width()),Do.max=0,Mo.toggleClass(Mt,!(Do.noMove=Do.min===Do.max))}function it(t,e,n){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var r=Tn[C(o)];if(r){var a="$"+e+"Frame",s=r[a];n.call(this,t,o,r,s,a,s&&s.data())}}})}function Dt(t,e,n,o){(!Jn||"*"===Jn&&o===Ln)&&(t=p(i.width)||p(t)||He,e=p(i.height)||p(e)||Ke,uo.resize({width:t,ratio:i.ratio||n||t/e},0,o!==Ln&&"*"))}function Rt(t,e,n,r,a,s){it(t,e,function(t,u,l,c,f,d){function h(t){var e=C(u);rn(t,{index:e,src:_,frame:Tn[e]})}function m(){y.remove(),o.Fotorama.cache[_]="error",l.html&&"stage"===e||!T||T===_?(!_||l.html||w?"stage"===e&&(c.trigger("f:load").removeClass(Jt+" "+Gt).addClass(Zt),h("load"),Dt()):(c.trigger("f:error").removeClass(Jt).addClass(Gt),h("error")),d.state="error",!(kn>1&&Tn[u]===l)||l.html||l.deleted||l.video||w||(l.deleted=!0,uo.splice(u,1))):(l[x]=_=T,Rt([u],e,n,r,a,!0))}function p(){o.Fotorama.measures[_]=b.measures=o.Fotorama.measures[_]||{width:g.width,height:g.height,ratio:g.width/g.height},Dt(b.measures.width,b.measures.height,b.measures.ratio,u),y.off("load error").addClass(oe+(w?" "+ie:"")).prependTo(c),$(y,(o.isFunction(n)?n():n)||Lo,r||l.fit||i.fit,a||l.position||i.position),o.Fotorama.cache[_]=d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(Jt+" "+Gt).addClass(Zt+" "+(w?te:ee)),"stage"===e?h("load"):(l.thumbratio===Qe||!l.thumbratio&&i.thumbratio===Qe)&&(l.thumbratio=b.measures.ratio,xn())},0)}function v(){var t=10;j(function(){return!ro||!t--&&!Ae},function(){p()})}if(c){var w=uo.fullScreen&&l.full&&l.full!==l.img&&!d.$full&&"stage"===e;if(!d.$img||s||w){var g=new Image,y=o(g),b=y.data();d[w?"$full":"$img"]=y;var x="stage"===e?w?"full":"img":"thumb",_=l[x],T=w?null:l["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=d.$wrap),!_)return void m();o.Fotorama.cache[_]?function t(){"error"===o.Fotorama.cache[_]?m():"loaded"===o.Fotorama.cache[_]?setTimeout(v,0):setTimeout(t,100)}():(o.Fotorama.cache[_]="*",y.on("load",v).on("error",m)),d.state="",g.src=_}}})}function Wt(t){qo.append(Sn.spin().el).appendTo(t)}function ne(){qo.detach(),Sn&&Sn.stop()}function le(){var t=En[Ve];t&&!t.data().state&&(Wt(t),t.on("f:load f:error",function(){t.off("f:load f:error"),ne()}))}function ve(t){X(t,gn),Q(t,function(){setTimeout(function(){R(ko)},0),Ge({time:Xn,guessIndex:o(this).data().eq,minMax:Do})})}function we(t,e){it(t,e,function(t,n,i,r,a,s){if(!r){r=i[a]=wo[a].clone(),(s=r.data()).data=i;var u=r[0];"stage"===e?(i.html&&o('<div class="'+ue+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(r),i.caption&&o(O(de,O(he,i.caption))).appendTo(r),i.video&&r.addClass(Tt).append(No.clone()),Q(u,function(){setTimeout(function(){R(go)},0),pn({index:s.eq,user:!0})}),bo=bo.add(r)):"navDot"===e?(ve(u),So=So.add(r)):"navThumb"===e&&(ve(u),s.$wrap=r.children(":first"),Fo=Fo.add(r),i.video&&s.$wrap.append(No.clone()))}})}function ye(t,e,n,o){return t&&t.length&&$(t,e,n,o)}function be(t){it(t,"stage",function(t,e,n,r,a,s){if(r){var u=C(e),l=n.fit||i.fit,f=n.position||i.position;s.eq=u,Ho[Ve][u]=r.css(o.extend({left:Kn?0:v(e,Lo.w,i.margin,jn)},Kn&&c(0))),P(r[0])&&(r.appendTo(yo),dn(n.$video)),ye(s.$img,Lo,l,f),ye(s.$full,Lo,l,f)}})}function xe(t,e){if("thumbs"===In&&!isNaN(t)){var n=-t,r=-t+Lo.nw;Fo.each(function(){var t=o(this).data(),a=t.eq,s=function(){return{h:Bn,w:t.w}},u=s(),l=Tn[a]||{},c=l.thumbfit||i.thumbfit,f=l.thumbposition||i.thumbposition;u.w=t.w,t.l+t.w<n||t.l>r||ye(t.$img,u,c,f)||e&&Rt([a],"navThumb",s,c,f)})}}function Ee(t,e,n){if(!Ee[n]){var r="nav"===n&&Dn,a=0;e.append(t.filter(function(){for(var t,e=o(this),n=e.data(),i=0,r=Tn.length;r>i;i++)if(n.data===Tn[i]){t=!0,n.eq=i;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){if(r){var t=o(this),e=t.data(),n=Math.round(Bn*e.data.thumbratio)||Vn;e.l=a,e.w=n,t.css({width:n}),a+=n+i.thumbmargin}})),Ee[n]=!0}}function Pe(t){return t-Ko>Lo.w/3}function qe(t){return!(On||Ao+t&&Ao-kn+t||Fn)}function Le(){var t=qe(0),e=qe(1);xo.toggleClass(Et,t).attr(B(t)),_o.toggleClass(Et,e).attr(B(e))}function De(){Io.ok&&(Io.prevent={"<":qe(0),">":qe(1)})}function Ue(t){var e,n,o=t.data();return Dn?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*i.thumbmargin,max:-e+Lo.w-n-10*i.thumbmargin}}function Ye(t){var e=En[so].data();J(Eo,{time:1.2*t,pos:e.l,width:e.w-2*i.thumbborderwidth})}function Ge(t){var e=Tn[t.guessIndex][so];if(e){var n=Do.min!==Do.max,o=t.minMax||n&&Ue(En[so]),i=n&&(t.keep&&Ge.l?Ge.l:a((t.coo||Lo.nw/2)-Ue(e).c,o.min,o.max)),r=n&&a(i,Do.min,Do.max),s=1.1*t.time;J(Mo,{time:s,pos:r||0,onEnd:function(){xe(r,!0)}}),fn(ko,A(r,Do.min,Do.max)),Ge.l=i}}function Ze(){tn(so),Wo[so].push(En[so].addClass(Bt))}function tn(t){for(var e=Wo[t];e.length;)e.shift().removeClass(Bt)}function en(t){var e=Ho[t];o.each(Pn,function(t,n){delete e[C(n)]}),o.each(e,function(t,n){delete e[t],n.detach()})}function nn(t){jn=Nn=Ao;var e=En[Ve];e&&(tn(Ve),Wo[Ve].push(e.addClass(Bt)),t||uo.show.onEnd(!0),b(yo,0,!0),en(Ve),be(Pn),tt(),et())}function on(t,e){t&&o.each(e,function(e,n){n&&o.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:H(t.ratio)})})}function rn(e,n){t.trigger(st+":"+e,[uo,n])}function an(){clearTimeout(sn.t),ro=1,i.stopautoplayontouch?uo.stopAutoplay():no=!0}function sn(){ro&&(i.stopautoplayontouch||(un(),ln()),sn.t=setTimeout(function(){ro=0},Ie+Oe))}function un(){no=!(!Fn&&!oo)}function ln(){if(clearTimeout(ln.t),j.stop(ln.w),i.autoplay&&!no){uo.autoplay||(uo.autoplay=!0,rn("startautoplay"));var t=Ao,e=En[Ve].data();ln.w=j(function(){return e.state||t!==Ao},function(){ln.t=setTimeout(function(){if(!no&&t===Ao){var e=zn,n=Tn[e][Ve].data();ln.w=j(function(){return n.state||e!==zn},function(){no||e!==zn||uo.show(On?Y(!Yn):zn)})}},i.autoplay)})}else uo.autoplay&&(uo.autoplay=!1,rn("stopautoplay"))}function cn(){uo.fullScreen&&(uo.fullScreen=!1,$e&&ge.cancel(fo),Me.removeClass(ut),ke.removeClass(ut),t.removeClass(Ut).insertAfter(vo),Lo=o.extend({},io),dn(Fn,!0,!0),wn("x",!1),uo.resize(),Rt(Pn,"stage"),R(Se,to,Zn),rn("fullscreenexit"))}function fn(t,e){Un&&(t.removeClass(Kt+" "+Vt),e&&!Fn&&t.addClass(e.replace(/^|\s/g," "+Ht+"--")))}function dn(t,e,n){e&&(wo.removeClass(dt),Fn=!1,g()),t&&t!==Fn&&(t.remove(),rn("unloadvideo")),n&&(un(),ln())}function hn(t){wo.toggleClass(pt,t)}function mn(t){if(!Oo.flow){var e=t?t.pageX:mn.x,n=e&&!qe(Pe(e))&&i.click;mn.p!==n&&go.toggleClass(St,n)&&(mn.p=n,mn.x=e)}}function pn(t){clearTimeout(pn.t),i.clicktransition&&i.clicktransition!==i.transition?setTimeout(function(){var e=i.transition;uo.setOptions({transition:i.clicktransition}),Qn=e,pn.t=setTimeout(function(){uo.show(t)},10)},0):uo.show(t)}function vn(t,e){var n=t.target;o(n).hasClass(ce)?uo.playVideo():n===jo?uo.toggleFullScreen():Fn?n===$o&&dn(Fn,!0,!0):e?hn():i.click&&pn({index:t.shiftKey||Y(Pe(t._x)),slow:t.altKey,user:!0})}function wn(t,e){Oo[t]=Do[t]=e}function gn(t){pn({index:o(this).data().eq,slow:t.altKey,user:!0,coo:t._x-ko.offset().left})}function yn(t){pn({index:Co.index(this)?">":"<",slow:t.altKey,user:!0})}function bn(t){Q(t,function(){setTimeout(function(){R(go)},0),hn(!1)})}function xn(){if(h(),_(),!xn.i){xn.i=!0;var t=i.startindex;(t||i.hash&&n.hash)&&(Ln=z(t||n.hash.replace(/^#/,""),Tn,0===uo.index||t,t)),Ao=jn=Nn=$n=Ln=E(Ln)||0}if(kn){if(_n())return;Fn&&dn(Fn,!0),Pn=[],en(Ve),xn.ok=!0,uo.show({index:Ao,time:0}),uo.resize()}else uo.destroy()}function _n(){return!_n.f===Yn?(_n.f=Yn,Ao=kn-1-Ao,uo.reverse(),!0):void 0}function Cn(){Cn.ok||(Cn.ok=!0,rn("ready"))}ke=o("html"),Me=o("body");var Tn,kn,Mn,Sn,Fn,En,Pn,jn,Nn,$n,qn,An,zn,Ln,On,In,Dn,Rn,Wn,Hn,Kn,Vn,Bn,Xn,Qn,Un,Yn,Gn,Jn,Zn,to,eo,no,oo,io,ro,ao,so,uo=this,lo=o.now(),co=st+lo,fo=t[0],ho=1,mo=t.data(),po=o("<style></style>"),vo=o(O(Qt)),wo=o(O(lt)),go=o(O(_t)).appendTo(wo),yo=(go[0],o(O(kt)).appendTo(go)),bo=o(),xo=o(O(Ft+" "+Pt+pe)),_o=o(O(Ft+" "+jt+pe)),Co=xo.add(_o).appendTo(go),To=o(O($t)),ko=o(O(Nt)).appendTo(To),Mo=o(O(qt)).appendTo(ko),So=o(),Fo=o(),Eo=(yo.data(),Mo.data(),o(O(se)).appendTo(Mo)),Po=o(O(Yt+pe)),jo=Po[0],No=o(O(ce)),$o=o(O(fe)).appendTo(go)[0],qo=o(O(me)),Ao=!1,zo={},Lo={},Oo={},Io={},Do={},Ro={},Wo={},Ho={},Ko=0,Vo=[];wo[Ve]=o(O(Ct)),wo[Xe]=o(O(Lt+" "+It+pe,O(ae))),wo[Be]=o(O(Lt+" "+Ot+pe,O(re))),Wo[Ve]=[],Wo[Xe]=[],Wo[Be]=[],Ho[Ve]={},wo.addClass(je?ft:ct).toggleClass(pt,!i.controlsonstart),mo.fotorama=this,uo.startAutoplay=function(t){return uo.autoplay?this:(no=oo=!1,y(t||i.autoplay),ln(),this)},uo.stopAutoplay=function(){return uo.autoplay&&(no=oo=!0,ln()),this},uo.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?Nn+1:"<"===e?Nn-1:"<<"===e?0:">>"===e?kn-1:e,e=void 0===(e=isNaN(e)?z(e,Tn,!0):e)?Ao||0:e,uo.activeIndex=Ao=E(e),qn=V(Ao),An=G(Ao),zn=C(Ao+(Yn?-1:1)),Pn=[Ao,qn,An],Nn=On?e:Ao;var n=Math.abs($n-Nn),o=x(t.time,function(){return Math.min(Xn*(1+(n-1)/12),2*Xn)}),r=t.overPos;t.slow&&(o*=10);var s=En;uo.activeFrame=En=Tn[Ao];var u=s===En&&!t.user;dn(Fn,En.i!==Tn[C(jn)].i),we(Pn,"stage"),be(Ae?[Nn]:[Nn,V(Nn),G(Nn)]),wn("go",!0),u||rn("show",{user:t.user,time:o}),no=!0;var l=uo.show.onEnd=function(e){if(!l.ok){if(l.ok=!0,e||nn(!0),u||rn("showend",{user:t.user}),!e&&Qn&&Qn!==i.transition)return uo.setOptions({transition:Qn}),void(Qn=!1);le(),Rt(Pn,"stage"),wn("go",!1),De(),mn(),un(),ln()}};if(Kn?Z(En[Ve],Ao!==$n?Tn[$n][Ve]:null,bo,{time:o,method:i.transition,onEnd:l},Vo):J(yo,{pos:-v(Nn,Lo.w,i.margin,jn),overPos:r,time:o,onEnd:l}),Le(),In){Ze();var c=T(Ao+a(Nn-$n,-1,1));Ge({time:o,coo:c!==Ao&&t.coo,guessIndex:void 0!==t.coo?c:Ao,keep:u}),Dn&&Ye(o)}return eo=void 0!==$n&&$n!==Ao,$n=Ao,i.hash&&eo&&!uo.eq&&N(En.id||Ao+1),this},uo.requestFullScreen=function(){return Wn&&!uo.fullScreen&&(Zn=Se.scrollTop(),to=Se.scrollLeft(),R(Se),wn("x",!0),io=o.extend({},Lo),t.addClass(Ut).appendTo(Me.addClass(ut)),ke.addClass(ut),dn(Fn,!0,!0),uo.fullScreen=!0,Hn&&ge.request(fo),uo.resize(),Rt(Pn,"stage"),le(),rn("fullscreenenter")),this},uo.cancelFullScreen=function(){return Hn&&ge.is()?ge.cancel(e):cn(),this},uo.toggleFullScreen=function(){return uo[(uo.fullScreen?"cancel":"request")+"FullScreen"]()},K(e,ge.event,function(){!Tn||ge.is()||Fn||cn()}),uo.resize=function(t){if(!Tn)return this;var e=arguments[1]||0,n=arguments[2];on(uo.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:W(t),[Lo,n||uo.fullScreen||i]);var o=Lo.width,r=Lo.height,s=Lo.ratio,u=Se.height()-(In?ko.height():0);return p(o)&&(wo.addClass(yt).css({width:o,minWidth:Lo.minwidth||0,maxWidth:Lo.maxwidth||99999}),o=Lo.W=Lo.w=wo.width(),Lo.nw=In&&m(i.navwidth,o)||o,i.glimpse&&(Lo.w-=Math.round(2*(m(i.glimpse,o)||0))),yo.css({width:Lo.w,marginLeft:(Lo.W-Lo.w)/2}),r=m(r,u),(r=r||s&&o/s)&&(o=Math.round(o),r=Lo.h=Math.round(a(r,m(Lo.minheight,u),m(Lo.maxheight,u))),go.stop().animate({width:o,height:r},e,function(){wo.removeClass(yt)}),nn(),In&&(ko.stop().animate({width:Lo.nw},e),Ge({guessIndex:Ao,time:e,keep:!0}),Dn&&Ee.nav&&Ye(e)),Jn=n||!0,Cn())),Ko=go.offset().left,this},uo.setOptions=function(t){return o.extend(i,t),xn(),this},uo.shuffle=function(){return Tn&&I(Tn)&&xn(),this},uo.destroy=function(){return uo.cancelFullScreen(),uo.stopAutoplay(),Tn=uo.data=null,f(),Pn=[],en(Ve),xn.ok=!1,this},uo.playVideo=function(){var t=En,e=t.video,n=Ao;return"object"==typeof e&&t.videoReady&&(Hn&&uo.fullScreen&&uo.cancelFullScreen(),j(function(){return!ge.is()||n!==Ao},function(){n===Ao&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[Ve]),wo.addClass(dt),Fn=t.$video,g(),Co.blur(),Po.blur(),rn("loadvideo"))})),this},uo.stopVideo=function(){return dn(Fn,!0,!0),this},go.on("mousemove",mn),Oo=nt(yo,{onStart:an,onMove:function(t,e){fn(go,e.edge)},onTouchEnd:sn,onEnd:function(t){fn(go);var e=(ze&&!ao||t.touch)&&i.arrows&&"always"!==i.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var n=w(t.newPos,Lo.w,i.margin,jn);uo.show({index:n,time:Kn?Xn:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||vn(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+Xt+", ."+Xt+" *",$wrap:go}),Do=nt(Mo,{onStart:an,onMove:function(t,e){fn(ko,e.edge)},onTouchEnd:sn,onEnd:function(t){function e(){Ge.l=t.newPos,un(),ln(),xe(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(no=!0,J(Mo,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),xe(t.newPos),Un&&fn(ko,A(t.newPos,Do.min,Do.max))):e();else{var n=t.$target.closest("."+Lt,Mo)[0];n&&gn.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:ko}),Io=ot(go,{shift:!0,onEnd:function(t,e){an(),sn(),uo.show({index:e,slow:t.altKey})}}),Ro=ot(ko,{onEnd:function(t,e){an(),sn();var n=b(Mo)+.25*e;Mo.css(l(a(n,Do.min,Do.max))),Un&&fn(ko,A(n,Do.min,Do.max)),Ro.prevent={"<":n>=Do.max,">":n<=Do.min},clearTimeout(Ro.t),Ro.t=setTimeout(function(){Ge.l=n,xe(n,!0)},Oe),xe(n)}}),wo.hover(function(){setTimeout(function(){ro||hn(!(ao=!0))},0)},function(){ao&&hn(!(ao=!1))}),L(Co,function(t){U(t),yn.call(this,t)},{onStart:function(){an(),Oo.control=!0},onTouchEnd:sn}),Co.each(function(){X(this,function(t){yn.call(this,t)}),bn(this)}),X(jo,uo.toggleFullScreen),bn(jo),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){uo[e]=function(){return Tn=Tn||[],"load"!==e?Array.prototype[e].apply(Tn,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Tn=D(arguments[0])),xn(),uo}}),xn()},o.fn.fotorama=function(e){return this.each(function(){var n=this,i=o(this),r=i.data(),a=r.fotorama;a?a.setOptions(e,!0):j(function(){return!E(n)},function(){r.urtext=i.html(),new o.Fotorama(i,o.extend({},Ge,t.fotoramaDefaults,e,r))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},(o=o||{}).Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e,n="";return n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){var e="",n=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=n.call(arguments,"")}(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+='" frameborder="0" allowfullscreen></iframe></div>\n'},o(function(){o("."+st+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery);